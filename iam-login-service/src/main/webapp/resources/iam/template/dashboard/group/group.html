<!-- Content Header (Page header) -user-image -->
<section class="content-header">
  <h1>
    <strong>{{group.data.displayName}}</strong>
  </h1>
  <ol class="breadcrumb">
    <li><a ui-sref="groups"><i class="fa fa-users"></i> Groups</a></li>
    <li class="active"><a ui-sref="group({id: group.data.id})">{{group.data.displayName}}</a></li>
  </ol>
</section>

<!-- Main content -->
<section class="content" ng-cloak>

  <div class="row">
    <div class="col-xs-12">
      <operationresult />
    </div>
  </div>

  <div class="row" ng-show="$root.pageLoadingProgress == 100">

    <div class="col-xs-12">

      <div style="min-height: 650px;">

		<div class="box">
          <div class="box-header with-border">
            <h3 class="box-title">Subgroups</h3>
            <i class="fa fa-users pull-right"></i>
          </div>
          <div class="box-body">
            <p ng-show="!group.subgroups.length">No subgroup found.</p>
            <table id="subgroupslist" class="table table-striped" ng-show="group.subgroups.length > 0">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="member in group.subgroups | orderBy:'display'">
                  <td class="col-md-1">{{$index + 1}}</td>
                  <td class="col-md-9"><a ui-sref="group({id: member.value})">{{member.display}}</a></td>
                  <td class="col-md-2">
                    <button class="btn btn-danger btn-xs" ng-click="group.deleteGroup(member)">
                      <i class="fa fa-times"></i> Remove
                    </button>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th>Actions</th>
                </tr>
              </tfoot>
            </table>
          </div>
          <div class="box-footer">
				<button class="btn btn-success" ng-click="group.clickToOpen()">Add Subgroup</button>
			</div>
        </div>

        <div class="box">
          <div class="box-header with-border">
            <h3 class="box-title">Members</h3>
            <i class="fa fa-users pull-right"></i>
          </div>
          <div class="box-body">
            <p ng-show="!group.data.members.length">No member found.</p>

            <table id="userslist" class="table table-striped" ng-show="group.data.members.length > 0">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Member</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="member in group.data.members | orderBy:'display'">
                  <td class="col-md-1">{{$index + 1}}</td>
                  <td class="col-md-9"><a ui-sref="user({id: member.value})">{{member.display}}</a></td>
                  <td class="col-md-2">
                    <button class="btn btn-danger btn-xs" ng-click="group.deleteMember(member)">
                      <i class="fa fa-times"></i> Remove
                    </button>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>#</th>
                  <th>Member</th>
                  <th>Actions</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>