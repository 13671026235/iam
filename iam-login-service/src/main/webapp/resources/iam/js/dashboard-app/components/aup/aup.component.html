<!-- Content Header (Page header) -->
<div ng-if="$ctrl.loaded">
    <section class="content-header" ng-cloak>
        <h1>
            <i class="fa fa-file-text-o"></i> Acceptable Usage Policy</h1>

        <ol class="breadcrumb hidden-xs">
            <li><a ui-sref="aup"><i class="fa fa-file-text-o"></i> AUP</a>
            </li>
        </ol>
    </section>
    <section class="content" id="aup-content" ng-cloak>
        <div class="box">
            <div class="box-body">

                <div ng-if="$ctrl.aup != null">
                    <div class="form-group">
                        <label>Acceptable Usage Policy Text</label>
                        <div>{{$ctrl.aup.data.text}}</div>
                        <span class="help-block">
                            The text above is presented to users at registration time or periodically
                            if the AUP is configured for periodic reacceptance
                        </span>
                    </div>
                    <div class="form-group">
                        <label>Created</label>
                        <div>{{$ctrl.aup.data.creationTime | relativeDate}}</div>
                    </div>
                    <div class="form-group">
                        <label>Signature Validity (in days)</label>
                        <p class="aup-text">
                            {{$ctrl.aup.data.signatureValidityInDays}}
                        </p>
                        <span class="help-block">
                                If set to a positive value, users will be prompted periodically  for an
                                AUP signature (with the period defined in days). 
                                If set to zero, the AUP signature will be asked only at registration time.
                        </span>
                    </div>
                </div>

                <div ng-if="$ctrl.aup == null">
                    AUP is not defined for this organization.
                </div>
            </div>
            <div class="box-footer">
                <div ng-if="$ctrl.aup == null">
                    <button class="btn btn-success" id="create-aup-btn" ng-click="$ctrl.openCreateAupDialog()">
                        <i class="fa fa-plus"></i>
                        Create AUP
                    </button>
                </div>
                <div ng-if="$ctrl.aup != null">
                    <button class="btn btn-danger" id="delete-aup-btn" ng-click="$ctrl.openDeleteAupDialog()">
                            Delete AUP
                    </button>
                </div>
            </div>
        </div>
    </section>
</div>